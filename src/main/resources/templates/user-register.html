<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org" lang="zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
	<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
	<title>个人注册</title>


    <link rel="stylesheet" type="text/css" href="../static/css/webbase.css" th:href="@{/css/webbase.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/pages-register.css" th:href="@{/css/pages-register.css}"/>
    <!-- 引入angular的js -->
    <script type="text/javascript" src="../static/plugins/angularjs/angular.min.js" th:src="@{/plugins/angularjs/angular.min.js}"></script>
    <!-- 引入分页相关的JS和CSS -->
    
    <script type="text/javascript" src="../static/js/base.js" th:src="@{/js/base.js}"></script>
    <script type="text/javascript" src="../static/js/service/userService.js" th:src="@{/js/service/userService.js}"></script>
    <script type="text/javascript" src="../static/js/controller/userController.js" th:src="@{/js/controller/userController.js}"></script>
    
</head>

<body ng-app="pinyougou" ng-controller="userController">
	<div class="register py-container ">
		<!--head-->
		<div class="logoArea">
			<a href="" class="logo"></a>
		</div>
		<!--register-->
		<div class="registerArea">
			<h3>注册新用户<span class="go">我有账号，去<a href="user-login.html" th:href="@{/user/login}">登陆</a></span></h3>
			<div class="info">
				<form class="sui-form form-horizontal" id="myForm" action="/user/login">
					<!--隐藏域-->
					<input type="hidden" id="codeHide" value="">
					<div class="control-group">
						<label class="control-label">用户名：</label>
						<div class="controls">
							<input type="text"  ng-model="entity.username" placeholder="请输入你的用户名" class="input-xfat input-xlarge">
						</div>
					</div>
					<div class="control-group">
						<label for="inputPassword" class="control-label">登录密码：</label>
						<div class="controls">
							<input type="password" ng-model="entity.password" placeholder="设置登录密码" class="input-xfat input-xlarge">
						</div>
					</div>
					<div class="control-group">
						<label for="inputPassword" class="control-label">确认密码：</label>
						<div class="controls">
							<input type="password" ng-model="password" placeholder="再次确认密码" class="input-xfat input-xlarge">
						</div>
					</div>
					
					<div class="control-group">
						<label class="control-label">手机号：</label>
						<div class="controls">
							<input type="text"  id="tel" ng-model="entity.phone" placeholder="请输入你的手机号" class="input-xfat input-xlarge">
						</div>
					</div>
					<div class="control-group">
						<label for="inputPassword" class="control-label">短信验证码：</label>
						<div class="controls">
							<input type="text" placeholder="短信验证码" ng-model="smscode" class="input-xfat input-xlarge">  <a href="#" onclick="sendCode()">获取短信验证码</a>
						</div>
					</div>
					
					<div class="control-group">
						<label for="inputPassword" class="control-label">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
						<div class="controls">
							<input name="m1" type="checkbox" value="2" checked=""><span>同意协议并注册《品优购用户协议》</span>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label"></label>
						<div class="controls btn-reg">
							<a class="sui-btn btn-block btn-xlarge btn-danger" onclick="$('#myForm').submit()" target="_blank">完成注册</a>
						</div>
					</div>
				</form>
				<div class="clearfix"></div>
			</div>
		</div>
		<!--foot-->
		<div class="py-container copyright">
			<ul>
				<li>关于我们</li>
				<li>联系我们</li>
				<li>联系客服</li>
				<li>商家入驻</li>
				<li>营销中心</li>
				<li>手机品优购</li>
				<li>销售联盟</li>
				<li>品优购社区</li>
			</ul>
			<div class="address">地址：北京市昌平区建材城西路金燕龙办公楼一层 邮编：100096 电话：400-618-4000 传真：010-82935100</div>
			<div class="beian">京ICP备08001421号京公网安备110108007702
			</div>
		</div>
	</div>


<script type="text/javascript" src="../static/js/plugins/jquery/jquery.min.js" th:src="@{/js/plugins/jquery/jquery.min.js}"></script>
<script type="text/javascript" src="../static/js/plugins/jquery.easing/jquery.easing.min.js" th:src="@{/js/plugins/jquery.easing/jquery.easing.min.js}"></script>
<script type="text/javascript" src="../static/js/plugins/sui/sui.min.js" th:src="@{/js/plugins/sui/sui.min.js}"></script>
<script type="text/javascript" src="../static/js/plugins/jquery-placeholder/jquery.placeholder.min.js" th:src="@{/js/plugins/jquery-placeholder/jquery.placeholder.min.js}"></script>
<script type="text/javascript" src="../static/js/pages/register.js" th:src="@{/js/pages/register.js}"></script>
</body>

<script>
	function sendCode() {
	    var telReg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;
		var telNum = $("#tel").val();
		//检测手机号是否合法
		if(telReg.test(telNum)){
			$.post(
			    "/user/sendCode",
				{"tel": telNum},
				function (response) {
					if(response.message){
					    alert(response.message);
					}
					//将验证码存储到隐藏域
					if(response.code){
					    $("#codeHide").val(response.code);
					}
                },
                "json"
			)
		}else{
		    alert("手机号格式错误");
		}
    }

    //submit中的函数如果返回值为true,则执行action的动作,如果为false则不执行action的动作
    $('#myForm').submit(function () {
        alert("注册成功");
		return true;
        }
	)
</script>

</html>